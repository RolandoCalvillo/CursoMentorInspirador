<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Capacitaci√≥n Mentor Inspirador - CNCI</title>
    <!-- Carga de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Estilos personalizados para el curso */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fc; /* CNCI light blue background */
        }
        .sidebar {
            background-color: #004a99; /* CNCI Blue */
            box-shadow: 4px 0 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease-in-out;
            z-index: 50;
            min-height: 100vh; /* Asegura que la barra lateral se extienda */
        }
        .content-area {
            background-color: #ffffff;
            min-height: 90vh;
            border-radius: 1.5rem; /* Rounded corners for the main content */
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
            padding: 2rem;
        }
        .module-link {
            transition: background-color 0.2s, transform 0.1s;
            cursor: pointer;
            border-radius: 0.5rem;
            color: white;
            padding: 1rem 1.5rem;
            margin-bottom: 0.5rem;
        }
        .module-link:hover:not(.active) {
            background-color: #003a7a; /* Darker blue on hover */
            transform: scale(1.02);
        }
        .module-link.active {
            background-color: #fca311; /* CNCI Orange for active state */
            font-weight: bold;
            color: #004a99; /* Blue text for active */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .quiz-option {
            transition: background-color 0.2s, transform 0.1s;
            cursor: pointer;
        }
        .quiz-option:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
        }
        .correct-answer {
            background-color: #d1fae5; /* Green light */
            border: 2px solid #34d399; /* Green border */
        }
        .incorrect-answer {
            background-color: #fee2e2; /* Red light */
            border: 2px solid #f87171; /* Red border */
        }
        /* Animaci√≥n para el bot√≥n de Quiz */
        .quiz-button-animate {
            animation: pulse-shadow 1.5s infinite;
        }
        @keyframes pulse-shadow {
            0%, 100% { box-shadow: 0 0 0 0 rgba(252, 163, 17, 0.7); }
            50% { box-shadow: 0 0 0 10px rgba(252, 163, 17, 0); }
        }
        /* Estilo para el bot√≥n de men√∫ en m√≥viles */
        @media (max-width: 767px) {
            .sidebar {
                position: fixed;
                top: 0;
                left: 0;
                height: 100%;
                width: 70%;
                transform: translateX(-100%);
            }
            .sidebar.open {
                transform: translateX(0);
            }
            .menu-backdrop {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5);
                z-index: 40;
                display: none;
            }
            .menu-backdrop.open {
                display: block;
            }
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- Menu Backdrop for Mobile -->
    <div id="menuBackdrop" class="menu-backdrop" onclick="toggleSidebar()"></div>

    <div class="flex">
        <!-- Sidebar / Men√∫ de M√≥dulos -->
        <aside id="sidebar" class="sidebar w-64 md:block fixed md:relative transform -translate-x-full md:translate-x-0 h-screen p-6 overflow-y-auto">
            <div class="text-center mb-6">
                <!-- LOGO CNCI -->
                <img src="https://i.postimg.cc/KzxV7m0Z/CNCI-VIRTUAL-LOGO.jpg" alt="Logo CNCI Virtual" class="w-24 h-auto mx-auto mb-4 rounded-lg shadow-lg">
                <h1 class="text-3xl font-extrabold text-white leading-tight">
                    <span class="text-yellow-400">Mentor</span> Inspirador ‚ú®
                </h1>
                <p class="text-sm text-gray-300">CNCI Virtual</p>
            </div>

            <!-- Bot√≥n de cerrar para m√≥vil -->
            <button id="closeMenuBtn" onclick="toggleSidebar()" class="md:hidden absolute top-4 right-4 text-white text-2xl">
                &times;
            </button>

            <!-- Lista de M√≥dulos -->
            <nav id="moduleMenu">
                <!-- Los enlaces de m√≥dulos se cargar√°n aqu√≠ -->
            </nav>
        </aside>

        <!-- Contenido Principal -->
        <main class="flex-1 p-4 md:p-8">
            <!-- Bot√≥n de men√∫ para m√≥vil -->
            <button onclick="toggleSidebar()" class="md:hidden p-3 bg-white rounded-full shadow-lg mb-4 text-blue-700">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
            
            <div id="contentArea" class="content-area">
                <!-- El contenido del m√≥dulo o quiz se cargar√° aqu√≠ -->
            </div>
        </main>
    </div>

    <!-- Bot√≥n de Acceso Admin (Ahora en la esquina inferior izquierda y m√°s chico) -->
    <button onclick="promptAdminAccess()" class="fixed bottom-4 left-4 p-2 bg-gray-800 text-white rounded-full shadow-xl opacity-80 hover:opacity-100 transition duration-300 z-50 text-sm">
        Admin ‚öôÔ∏è
    </button>

    <script>
        // --- DATA DEL CURSO (Inicial/Fallback) ---
        const initialCourseData = [
            {
                id: 1,
                title: "M√≥dulo 1: El Origen de la Mentor√≠a y Modalidades de Participaci√≥n üí°",
                content: `
                    <h2 class="text-3xl font-bold text-blue-800 mb-6">M√≥dulo 1: El Origen de la Mentor√≠a y Modalidades de Participaci√≥n</h2>
                    <p class="text-lg text-gray-700 mb-8">¬°Bienvenido! Tu rol como <span class="font-semibold text-orange-500">Mentor Inspirador</span> es fundamental. Eres un puente estrat√©gico para el alumno de nuevo ingreso.</p>
                    
                    <!-- Tema 1.1 -->
                    <div class="mb-8 p-4 bg-blue-50 rounded-xl">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3">1.1: Contexto Hist√≥rico y Visi√≥n CNCI 4.0</h3>
                        <p class="mb-3">El concepto proviene de <span class="font-medium text-orange-600">Mentor</span> en la Odisea, quien aconsej√≥ a Tel√©maco. Tu funci√≥n es ser un gu√≠a con experiencia, brindando <span class="font-bold">apoyo emocional y estrat√©gico</span>.</p>
                        <p class="mb-3">La Visi√≥n CNCI busca formar profesionales <span class="font-bold">adaptables</span>. Tu apoyo asegura que los nuevos alumnos adopten y dominen r√°pidamente las herramientas digitales.</p>
                        <h4 class="font-bold mt-4 text-blue-600">Tipos de Mentor√≠a Aplicados:</h4>
                        <ul class="list-disc list-inside ml-4 mt-2 text-gray-600">
                            <li><span class="font-semibold">E-Mentoring:</span> Apoyo 100% digital a trav√©s de canales oficiales (WhatsApp, Correo). Clave: <span class="font-medium">disponibilidad asertiva.</span></li>
                            <li><span class="font-semibold">Mentor√≠a entre Pares (Peer-Mentoring):</span> Compartir tu experiencia como compa√±ero universitario, ofreciendo una perspectiva fresca y aplicable.</li>
                        </ul>
                    </div>

                    <!-- Tema 1.2 -->
                    <div class="mb-8 p-4 bg-orange-50 rounded-xl">
                        <h3 class="text-2xl font-semibold text-orange-700 mb-3">1.2: Modalidades de Participaci√≥n y Compromisos</h3>
                        <p class="mb-4">Existen dos rutas, cada una con compromisos y beneficios distintos:</p>
                        <div class="overflow-x-auto">
                            <table class="min-w-full bg-white rounded-lg shadow-md">
                                <thead class="bg-blue-100">
                                    <tr>
                                        <th class="py-2 px-4 border-b text-left text-sm font-semibold text-blue-700">Modalidad</th>
                                        <th class="py-2 px-4 border-b text-left text-sm font-semibold text-blue-700">Duraci√≥n del Apoyo</th>
                                        <th class="py-2 px-4 border-b text-left text-sm font-semibold text-blue-700">Beneficios / Retribuci√≥n</th>
                                        <th class="py-2 px-4 border-b text-left text-sm font-semibold text-blue-700">Compromiso Clave</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="py-3 px-4 border-b font-semibold text-blue-800">Servicio Social (SS)</td>
                                        <td class="py-3 px-4 border-b">6 meses (4 meses de mentor√≠a activa: 2do al 5to m√≥dulo).</td>
                                        <td class="py-3 px-4 border-b">Obtenci√≥n de las horas requeridas. <span class="text-red-500 font-medium">No hay beneficios adicionales (Bonos).</span></td>
                                        <td class="py-3 px-4 border-b">Rigurosa entrega de reportes (m√°s del 50%) o se extiende el tiempo.</td>
                                    </tr>
                                    <tr class="bg-yellow-50">
                                        <td class="py-3 px-4 border-b font-semibold text-orange-700">Beneficios (Bono)</td>
                                        <td class="py-3 px-4 border-b">4 meses de apoyo total (Alta intensidad).</td>
                                        <td class="py-3 px-4 border-b">Bono Base ($1200 MXN) o $2000 MXN por excelencia + Constancia y Kit.</td>
                                        <td class="py-3 px-4 border-b">Alto cumplimiento de actividades para recibir el Bono. Vigencia del bono: 6 meses.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Tema 1.3 -->
                    <div class="mb-8 p-4 bg-gray-100 rounded-xl">
                        <h3 class="text-2xl font-semibold text-gray-700 mb-3">1.3: Carta Compromiso</h3>
                        <p class="mb-3">Deber√°s firmar la carta compromiso correspondiente seg√∫n tu modalidad:</p>
                        <ul class="list-disc list-inside ml-4 mt-2 text-gray-600">
                            <li>Carta Compromiso por Servicio Social</li>
                            <li>Carta Compromiso por Beneficios (bonos)</li>
                        </ul>
                    </div>

                    <!-- Placeholder de Imagen -->
                    <div class="mt-8 p-4 bg-gray-200 text-center rounded-lg border-2 border-dashed border-gray-400">
                        <p class="text-gray-600 font-semibold">üìç Placeholder para Imagen de Apoyo</p>
                        <p class="text-sm text-gray-500">Aqu√≠ ir√° tu imagen de apoyo del M√≥dulo 1 (Ej. un √≠cono de Mentor o las dos rutas de participaci√≥n).</p>
                        <button onclick="downloadPlaceholder(1)" class="mt-2 text-blue-600 hover:text-blue-800 text-xs font-medium">
                            (Descargar Placeholder)
                        </button>
                    </div>

                    <div class="flex justify-end mt-10">
                        <button onclick="startQuiz(1)" class="bg-orange-500 text-white font-bold py-3 px-6 rounded-full hover:bg-orange-600 transition duration-300 quiz-button-animate">
                            ¬°Iniciar Quiz del M√≥dulo 1! üöÄ
                        </button>
                    </div>
                `,
                quiz: [
                    {
                        question: "¬øCu√°l es el origen mitol√≥gico del t√©rmino 'Mentor' y qu√© implica para tu rol en CNCI?",
                        options: [
                            "Proviene de Zeus, un dios griego; tu rol es de autoridad acad√©mica.",
                            "Proviene de la Odisea, Mentor aconsej√≥ a Tel√©maco; tu rol es de gu√≠a y apoyo emocional/estrat√©gico.",
                            "Proviene de un fil√≥sofo romano; tu rol es de resoluci√≥n de tr√°mites.",
                            "Proviene de un personaje de la Mitolog√≠a N√≥rdica; tu rol es de compartir respuestas de tareas."
                        ],
                        correct: 1,
                        explanation: "El t√©rmino proviene de la Odisea, donde Mentor era un gu√≠a. En CNCI, esto implica ser un gu√≠a con experiencia y brindar apoyo emocional y estrat√©gico, no solo acad√©mico."
                    },
                    {
                        question: "Si participas bajo la modalidad de Servicio Social (SS), ¬ødurante cu√°ntos meses tendr√°s compa√±eros mentoreados asignados activamente?",
                        options: [
                            "6 meses de participaci√≥n total con mentor√≠a activa.",
                            "Solo el primer mes de inducci√≥n.",
                            "4 meses (del 2do al 5to m√≥dulo) de mentor√≠a activa, dentro de un periodo total de 6 meses.",
                            "El tiempo es indefinido hasta que el alumno egrese."
                        ],
                        correct: 2,
                        explanation: "En Servicio Social, el apoyo directo a compa√±eros es solo durante 4 meses (del 2do al 5to m√≥dulo), aunque la participaci√≥n total sea de 6 meses."
                    },
                    {
                        question: "¬øQu√© tipo de mentor√≠a se enfoca en el apoyo 100% digital a trav√©s de canales oficiales con 'disponibilidad asertiva'?",
                        options: [
                            "Mentor√≠a entre Pares (Peer-Mentoring).",
                            "Mentor√≠a Presencial (Face-to-Face).",
                            "E-Mentoring.",
                            "Mentor√≠a CNCI 4.0."
                        ],
                        correct: 2,
                        explanation: "El E-Mentoring es el apoyo 100% digital que se realiza a trav√©s de canales oficiales como WhatsApp y Correo, requiriendo una disponibilidad asertiva."
                    }
                ]
            },
            {
                id: 2,
                title: "M√≥dulo 2: Perfil del Mentor: Roles Diferenciados y L√≠mites de Apoyo üõ°Ô∏è",
                content: `
                    <h2 class="text-3xl font-bold text-blue-800 mb-6">M√≥dulo 2: Perfil del Mentor: Roles Diferenciados y L√≠mites de Apoyo</h2>
                    <p class="text-lg text-gray-700 mb-8">La naturaleza de tu apoyo est√° definida por la etapa de adaptaci√≥n que vive el alumno.</p>
                    
                    <!-- Tema 2.1 -->
                    <div class="mb-8 p-4 bg-blue-50 rounded-xl">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3">2.1: La Diferencia Clave en tus Alumnos Asignados</h3>
                        <div class="overflow-x-auto">
                            <table class="min-w-full bg-white rounded-lg shadow-md">
                                <thead class="bg-blue-100">
                                    <tr>
                                        <th class="py-2 px-4 border-b text-left text-sm font-semibold text-blue-700">Tipo de Mentor</th>
                                        <th class="py-2 px-4 border-b text-left text-sm font-semibold text-blue-700">Grupo de Apoyo</th>
                                        <th class="py-2 px-4 border-b text-left text-sm font-semibold text-blue-700">Prioridad de Apoyo</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="bg-yellow-50">
                                        <td class="py-3 px-4 border-b font-semibold text-orange-700">Mentor A</td>
                                        <td class="py-3 px-4 border-b">1er Cuatrimestre</td>
                                        <td class="py-3 px-4 border-b">Organizaci√≥n del tiempo (2 materias), Metodolog√≠a de Estudio (Materias Unificadas), <span class="font-bold">motivaci√≥n sostenida</span>, Metas SMART.</td>
                                    </tr>
                                    <tr class="bg-green-50">
                                        <td class="py-3 px-4 border-b font-semibold text-green-700">Mentor B</td>
                                        <td class="py-3 px-4 border-b">Inducci√≥n (m√°x. 14 d√≠as)</td>
                                        <td class="py-3 px-4 border-b">Disponibilidad de horarios, tips para <span class="font-bold text-red-600">acreditar el curso de Inducci√≥n</span>, dudas de herramientas.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Tema 2.2 -->
                    <div class="mb-8 p-4 bg-orange-50 rounded-xl">
                        <h3 class="text-2xl font-semibold text-orange-700 mb-3">2.2: Cualidades de un Mentor de Excelencia ‚≠ê</h3>
                        <p class="mb-4">Tus habilidades blandas son tu principal herramienta para generar confianza:</p>
                        <ul class="list-disc list-inside ml-4 mt-2 text-gray-600 space-y-2">
                            <li><span class="font-semibold text-purple-600">Rapport:</span> Establecer una conexi√≥n de confianza mutua, mostrando tu propia experiencia.</li>
                            <li><span class="font-semibold text-purple-600">Escucha Activa:</span> Comprender las causas profundas, ir m√°s all√° de la duda t√©cnica.</li>
                            <li><span class="font-semibold text-purple-600">Motivaci√≥n:</span> Mantener el √°nimo del alumno, especialmente despu√©s de una calificaci√≥n baja.</li>
                            <li><span class="font-semibold text-purple-600">Empat√≠a:</span> Reconocer los retos de autodisciplina y las situaciones personales/laborales diferentes.</li>
                            <li><span class="font-semibold text-purple-600">Asertividad:</span> Comunicar l√≠mites y dirigir al recurso correcto sin pasividad (hacerlo por √©l) ni agresividad.</li>
                        </ul>
                    </div>
                    
                    <!-- Tema 2.3 -->
                    <div class="mb-8 p-4 bg-red-50 rounded-xl border border-red-300">
                        <h3 class="text-2xl font-semibold text-red-700 mb-3">2.3: L√≠mites del Apoyo y Canalizaci√≥n Obligatoria üö®</h3>
                        <p class="mb-3 font-bold">Tu rol es de <span class="text-red-600">acompa√±amiento experiencial</span> y gu√≠a a recursos, NO de resoluci√≥n administrativa o acad√©mica formal.</p>
                        <h4 class="font-bold mt-4 text-red-600">L√≠mite Clave:</h4>
                        <p class="ml-4 text-gray-600">üö´ <span class="font-semibold">NUNCA</span> resolver tr√°mites, dar respuestas de tareas, interferir en la elaboraci√≥n de trabajos, ni compartir contactos privados de personal administrativo.</p>
                        <h4 class="font-bold mt-4 text-red-600">Canalizaci√≥n Obligatoria a tu Mentor Universitario:</h4>
                        <ul class="list-disc list-inside ml-4 mt-2 text-gray-600 space-y-1">
                            <li>Compa√±eros que <span class="font-bold">no brinden respuesta</span> (riesgo de abandono).</li>
                            <li>Mencionen su <span class="font-bold">posible baja</span> o expresen sentirse abrumados al punto de querer renunciar.</li>
                            <li>Reporten dificultades acad√©micas o administrativas <span class="font-bold">complejas</span> (Ej. "No me cargan mis calificaciones", "Mi plataforma no funciona correctamente").</li>
                        </ul>
                    </div>

                    <!-- Placeholder de Imagen -->
                    <div class="mt-8 p-4 bg-gray-200 text-center rounded-lg border-2 border-dashed border-gray-400">
                        <p class="text-gray-600 font-semibold">üìç Placeholder para Imagen de Apoyo</p>
                        <p class="text-sm text-gray-500">Aqu√≠ ir√° tu imagen de apoyo del M√≥dulo 2 (Ej. Diagrama de roles, escudo de l√≠mites).</p>
                        <button onclick="downloadPlaceholder(2)" class="mt-2 text-blue-600 hover:text-blue-800 text-xs font-medium">
                            (Descargar Placeholder)
                        </button>
                    </div>

                    <div class="flex justify-end mt-10">
                        <button onclick="startQuiz(2)" class="bg-orange-500 text-white font-bold py-3 px-6 rounded-full hover:bg-orange-600 transition duration-300 quiz-button-animate">
                            ¬°Iniciar Quiz del M√≥dulo 2! üöÄ
                        </button>
                    </div>
                `,
                quiz: [
                    {
                        question: "Si eres un Mentor A (1er Cuatrimestre), ¬øcu√°l es el reto acad√©mico espec√≠fico que debe priorizar tu apoyo?",
                        options: [
                            "La organizaci√≥n del tiempo para sus dos materias unificadas.",
                            "El apoyo en la elaboraci√≥n del Proyecto Integrador del 3er Cuatrimestre.",
                            "La disponibilidad de horarios y tips para lograr la <span class='font-bold'>acreditaci√≥n del curso de Inducci√≥n</span> (Calificaci√≥n ‚â• 7.0).",
                            "La identificaci√≥n y cumplimiento de Metas SMART durante su primer a√±o."
                        ],
                        correct: 0,
                        explanation: "La prioridad del Mentor A (1er Cuatrimestre) es ayudar al alumno con la organizaci√≥n de sus dos materias unificadas y la metodolog√≠a de estudio en su primer contacto con la carga acad√©mica real."
                    },
                    {
                        question: "¬øQu√© cualidad de un Mentor de Excelencia se define como la acci√≥n de <span class='font-medium'>comunicar l√≠mites y dirigir al alumno al recurso correcto sin caer en la pasividad ni en la agresividad</span>?",
                        options: [
                            "Empat√≠a.",
                            "Escucha Activa.",
                            "Motivaci√≥n.",
                            "Asertividad."
                        ],
                        correct: 3,
                        explanation: "La Asertividad es clave para comunicar l√≠mites de manera clara y profesional, evitando hacer el trabajo por el alumno (pasividad) o reaccionar negativamente (agresividad)."
                    },
                    {
                        question: "Menciona dos situaciones espec√≠ficas en las que es obligatorio reportar a un compa√±ero a tu Mentor Universitario (Canalizaci√≥n).",
                        options: [
                            "Cuando el alumno pide ayuda para entender un concepto de su tarea o no sabe usar la Biblioteca Virtual.",
                            "Cuando el alumno pregunta por los horarios de Servicios Estudiantiles o el correo institucional.",
                            "Cuando el alumno no brinde respuesta a pesar de varios intentos o mencione su posible baja de la Universidad.",
                            "Cuando el alumno te pide que le resuelvas un tr√°mite de cambio de matr√≠cula."
                        ],
                        correct: 2,
                        explanation: "Es obligatorio reportar los casos de riesgo de abandono (sin respuesta) o la intenci√≥n de darse de baja, ya que requieren la intervenci√≥n del √°rea administrativa/orientaci√≥n."
                    }
                ]
            },
            {
                id: 3,
                title: "M√≥dulo 3: La Universidad en Acci√≥n: Estructura, Metodolog√≠as y Herramientas üéì",
                content: `
                    <h2 class="text-3xl font-bold text-blue-800 mb-6">M√≥dulo 3: La Universidad en Acci√≥n: Estructura, Metodolog√≠as y Herramientas</h2>
                    <p class="text-lg text-gray-700 mb-8">Debes dominar la estructura para poder guiar a tus compa√±eros con certeza.</p>
                    
                    <!-- Tema 3.1 -->
                    <div class="mb-8 p-4 bg-blue-50 rounded-xl">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3">3.1: Metodolog√≠a de Estudio y Estructura CNCI (Metodolog√≠a NOVA)</h3>
                        <h4 class="font-bold mt-4 text-blue-600">Metodolog√≠as Clave:</h4>
                        <ul class="list-disc list-inside ml-4 mt-2 text-gray-600 space-y-2">
                            <li><span class="font-semibold">Materias Unificadas (1¬∫ y 2¬∫ Cuatrimestre):</span> Dos materias de tronco com√∫n se unen tem√°ticamente para <span class="font-bold text-green-600">reducir la carga de trabajo</span> y mejorar la adaptaci√≥n.</li>
                            <li><span class="font-semibold">Modelo Educativo Regular (A partir del 3¬∫ Cuatrimestre):</span> Se cursan 2 materias por mes durante 3 meses, seguido de un mes de descanso.</li>
                            <li><span class="font-semibold">Game-Based Learning (Materias espec√≠ficas):</span> El Proyecto Modular (PM) y el Proyecto Integrador (PI) <span class="font-bold text-orange-600">se unifican</span> en la din√°mica del juego (simulaci√≥n), promoviendo la certificaci√≥n del logro.</li>
                        </ul>
                    </div>

                    <!-- Tema 3.2 -->
                    <div class="mb-8 p-4 bg-orange-50 rounded-xl">
                        <h3 class="text-2xl font-semibold text-orange-700 mb-3">3.2: Herramientas Digitales y Recursos de Valor üíª</h3>
                        <ul class="list-disc list-inside ml-4 mt-2 text-gray-600 space-y-2">
                            <li><span class="font-semibold">Correo Institucional:</span> Medio <span class="font-bold">OFICIAL</span> (matricula@cncivirtual.mx). Puerta de acceso a Office 365, Blackboard y Biblioteca Virtual.</li>
                            <li><span class="font-semibold">Centro de Idiomas:</span> Programa de ingl√©s (A1 a B2). Al acreditar, se obtiene una <span class="font-bold text-blue-600">Constancia Digital</span> (Nivel B2 es requisito para Titulaci√≥n).</li>
                        </ul>
                        <h4 class="font-bold mt-4 text-blue-600">Plataformas Clave:</h4>
                        <ul class="list-disc list-inside ml-4 mt-2 text-gray-600 space-y-2">
                            <li><span class="font-semibold">Biblioteca Virtual:</span> Enlazada con Office 365. Colecci√≥n vasta de libros y art√≠culos. <span class="font-bold">Principal recurso para evitar el plagio.</span></li>
                            <li><span class="font-semibold">Portal del Alumno:</span> Para <span class="font-bold">tr√°mites personales, estatus acad√©mico y seguimiento de pagos</span> (Informaci√≥n administrativa).</li>
                        </ul>
                    </div>
                    
                    <!-- Tema 3.3 -->
                    <div class="mb-8 p-4 bg-gray-100 rounded-xl">
                        <h3 class="text-2xl font-semibold text-gray-700 mb-3">3.3: Servicios Estudiantiles (Tu Contacto de Referencia)</h3>
                        <p class="mb-3">Tu labor es canalizar. <span class="font-bold">No intentes resolver</span> lo que ellos pueden solucionar formalmente.</p>
                        <div class="overflow-x-auto">
                            <table class="min-w-full bg-white rounded-lg shadow-md">
                                <thead class="bg-blue-100">
                                    <tr>
                                        <th class="py-2 px-4 border-b text-left text-sm font-semibold text-blue-700">Contacto</th>
                                        <th class="py-2 px-4 border-b text-left text-sm font-semibold text-blue-700">Medio</th>
                                        <th class="py-2 px-4 border-b text-left text-sm font-semibold text-blue-700">Horarios</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="py-3 px-4 border-b font-semibold text-blue-800">Servicios Estudiantiles</td>
                                        <td class="py-3 px-4 border-b">Llamadas: 800 681 53 14 (Opci√≥n 4 y 5)</td>
                                        <td class="py-3 px-4 border-b">Lunes a viernes: 9:00 am a 8:00 pm</td>
                                    </tr>
                                    <tr class="bg-yellow-50">
                                        <td class="py-3 px-4 border-b font-semibold text-orange-700">Servicios Estudiantiles</td>
                                        <td class="py-3 px-4 border-b">Correo: serviciosestudiantiles@cncivirtual.mx</td>
                                        <td class="py-3 px-4 border-b">S√°bados: 9:00 am a 2:00 pm</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Placeholder de Imagen -->
                    <div class="mt-8 p-4 bg-gray-200 text-center rounded-lg border-2 border-dashed border-gray-400">
                        <p class="text-gray-600 font-semibold">üìç Placeholder para Imagen de Apoyo</p>
                        <p class="text-sm text-gray-500">Aqu√≠ ir√° tu imagen de apoyo del M√≥dulo 3 (Ej. Logos de plataformas clave, diagrama NOVA).</p>
                        <button onclick="downloadPlaceholder(3)" class="mt-2 text-blue-600 hover:text-blue-800 text-xs font-medium">
                            (Descargar Placeholder)
                        </button>
                    </div>

                    <div class="flex justify-end mt-10">
                        <button onclick="startQuiz(3)" class="bg-orange-500 text-white font-bold py-3 px-6 rounded-full hover:bg-orange-600 transition duration-300 quiz-button-animate">
                            ¬°Iniciar Quiz del M√≥dulo 3! üöÄ
                        </button>
                    </div>
                `,
                quiz: [
                    {
                        question: "Si un alumno te pregunta qu√© sucede con el Proyecto Modular en una materia con Game-Based Learning, ¬øcu√°l debe ser tu respuesta?",
                        options: [
                            "Debe realizar el Proyecto Modular y el Proyecto Integrador por separado, como siempre.",
                            "Los proyectos Modular e Integrador <span class='font-bold'>se unifican</span> en la din√°mica del juego (simulaci√≥n).",
                            "El Proyecto Modular se elimina completamente y solo debe hacer el Proyecto Integrador.",
                            "Debe llamar a Servicios Estudiantiles para que le expliquen el nuevo formato."
                        ],
                        correct: 1,
                        explanation: "En Game-Based Learning, el PM y el PI se unifican en la din√°mica del juego, que es un entorno de simulaci√≥n."
                    },
                    {
                        question: "¬øCu√°l es la diferencia clave entre la Biblioteca Virtual y el Portal del Alumno?",
                        options: [
                            "La Biblioteca Virtual es para Office 365, el Portal es para Blackboard.",
                            "La Biblioteca Virtual contiene libros y art√≠culos para proyectos; el Portal del Alumno es para tr√°mites personales y estatus acad√©mico.",
                            "Ambos son lo mismo, solo que con diferente nombre.",
                            "El Portal del Alumno sirve para acceder al Centro de Idiomas, y la Biblioteca para el correo institucional."
                        ],
                        correct: 1,
                        explanation: "La Biblioteca Virtual es el recurso acad√©mico (libros/art√≠culos); el Portal del Alumno es la herramienta administrativa (tr√°mites, pagos, estatus)."
                    },
                    {
                        question: "¬øQu√© beneficio adicional obtiene el alumno al acreditar un nivel del Programa de Ingl√©s (Centro de Idiomas)?",
                        options: [
                            "Un bono de $1200 MXN.",
                            "Una exenci√≥n total del Servicio Social.",
                            "Una <span class='font-bold'>Constancia Digital</span> por cada nivel acreditado, aumentando su competitividad laboral.",
                            "La posibilidad de inscribir tres materias en lugar de dos."
                        ],
                        correct: 2,
                        explanation: "Al acreditar un nivel, el alumno recibe una Constancia Digital, y alcanzar el nivel B2 es requisito para la Titulaci√≥n/Certificado."
                    }
                ]
            },
            {
                id: 4,
                title: "M√≥dulo 4: El Curso de Inducci√≥n üöÄ",
                content: `
                    <h2 class="text-3xl font-bold text-blue-800 mb-6">M√≥dulo 4: El Curso de Inducci√≥n</h2>
                    <p class="text-lg text-gray-700 mb-8">Este es el m√≥dulo central para los Mentores B (Inducci√≥n), ya que deben asegurar la acreditaci√≥n inicial del alumno.</p>
                    
                    <!-- Tema 4.1 -->
                    <div class="mb-8 p-4 bg-blue-50 rounded-xl">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3">4.1: Reglas de Acreditaci√≥n de Inducci√≥n</h3>
                        <ul class="list-disc list-inside ml-4 mt-2 text-gray-600 space-y-2">
                            <li><span class="font-semibold">Duraci√≥n:</span> 2 semanas (<span class="font-bold">14 d√≠as naturales</span>).</li>
                            <li><span class="font-semibold">Acreditaci√≥n M√≠nima:</span> Calificaci√≥n <span class="text-red-600 font-bold">igual o mayor a 7.0.</span></li>
                            <li><span class="font-semibold">Consecuencia:</span> Sin acreditaci√≥n, el alumno <span class="font-bold">no puede iniciar sus m√≥dulos de estudio</span> ni se le asigna su matr√≠cula formal.</li>
                        </ul>
                    </div>

                    <!-- Tema 4.2 -->
                    <div class="mb-8 p-4 bg-orange-50 rounded-xl">
                        <h3 class="text-2xl font-semibold text-orange-700 mb-3">4.2: El Proyecto Central: Reto APA</h3>
                        <p class="mb-3">El proyecto de Inducci√≥n se enfoca en el <span class="font-bold text-blue-600">"Reto APA"</span>, promoviendo la <span class="font-bold">√âtica Acad√©mica</span> y el respeto por los derechos de autor.</p>
                        <h4 class="font-bold mt-4 text-orange-600">Tu Labor como Mentor B (Inducci√≥n):</h4>
                        <p class="ml-4 text-gray-600">Debes ser un promotor de la honestidad acad√©mica. Explica que el APA es una <span class="font-medium">herramienta de valor</span> que respalda su credibilidad profesional y <span class="font-bold">evita la cancelaci√≥n de trabajos por plagio.</span></p>
                    </div>

                    <!-- Placeholder de Imagen -->
                    <div class="mt-8 p-4 bg-gray-200 text-center rounded-lg border-2 border-dashed border-gray-400">
                        <p class="text-gray-600 font-semibold">üìç Placeholder para Imagen de Apoyo</p>
                        <p class="text-sm text-gray-500">Aqu√≠ ir√° tu imagen de apoyo del M√≥dulo 4 (Ej. √çcono de checkmark/cruz, logo de APA).</p>
                        <button onclick="downloadPlaceholder(4)" class="mt-2 text-blue-600 hover:text-blue-800 text-xs font-medium">
                            (Descargar Placeholder)
                        </button>
                    </div>

                    <div class="flex justify-end mt-10">
                        <button onclick="startQuiz(4)" class="bg-orange-500 text-white font-bold py-3 px-6 rounded-full hover:bg-orange-600 transition duration-300 quiz-button-animate">
                            ¬°Iniciar Quiz del M√≥dulo 4! üöÄ
                        </button>
                    </div>
                `,
                quiz: [
                    {
                        question: "¬øCu√°l es la calificaci√≥n m√≠nima requerida para acreditar el Curso de Inducci√≥n y por qu√© es crucial esta acreditaci√≥n?",
                        options: [
                            "7.5; es crucial porque sin ella no puede ver la Biblioteca Virtual.",
                            "<span class='font-bold'>7.0;</span> es crucial porque sin ella <span class='font-bold'>no puede iniciar sus m√≥dulos de estudio</span> ni se le asigna matr√≠cula formal.",
                            "6.0; es crucial para recibir su primer bono de mentor√≠a.",
                            "8.0; es crucial para empezar su Servicio Social."
                        ],
                        correct: 1,
                        explanation: "La calificaci√≥n m√≠nima es 7.0 y es crucial porque su no acreditaci√≥n detiene completamente el proceso del alumno para iniciar sus materias."
                    },
                    {
                        question: "¬øCu√°l es el enfoque del Proyecto Central del Curso de Inducci√≥n?",
                        options: [
                            "Una investigaci√≥n profunda sobre la historia de la universidad.",
                            "El dise√±o de su Entorno Personal de Aprendizaje (PLE).",
                            "El 'Reto APA', promoviendo la √âtica Acad√©mica y el respeto a los derechos de autor.",
                            "Una actividad de c√°lculo de Metas SMART."
                        ],
                        correct: 2,
                        explanation: "El proyecto se enfoca en el 'Reto APA', que es esencial para la √âtica Acad√©mica y evitar el plagio."
                    },
                    {
                        question: "Si un alumno te pregunta sobre dudas de qu√© informaci√≥n a√±adir en sus actividades de Inducci√≥n, ¬øqu√© le responder√≠as?",
                        options: [
                            "Le compartir√≠as exactamente la informaci√≥n que debe poner para asegurar su 7.0.",
                            "Le canalizar√≠as inmediatamente a Servicios Estudiantiles.",
                            "Le recordar√≠as que tu rol es de gu√≠a de recursos, pero <span class='font-bold'>nunca debes interferir en la elaboraci√≥n de trabajos</span> o dar respuestas.",
                            "Le dir√≠as que lo investigue en Google, sin darle ning√∫n recurso CNCI."
                        ],
                        correct: 2,
                        explanation: "Tu rol es de acompa√±amiento experiencial y de gu√≠a a recursos; nunca debes interferir en la elaboraci√≥n de trabajos o dar respuestas, ya que esto compromete la integridad acad√©mica de ambos."
                    }
                ]
            },
            {
                id: 5,
                title: "M√≥dulo 5: Planificaci√≥n y Reporte: Herramientas de Gesti√≥n üìä",
                content: `
                    <h2 class="text-3xl font-bold text-blue-800 mb-6">M√≥dulo 5: Planificaci√≥n y Reporte: Herramientas de Gesti√≥n</h2>
                    <p class="text-lg text-gray-700 mb-8">La eficiencia del Mentor se mide en su capacidad de planificaci√≥n y en la <span class="font-bold text-red-600">entrega rigurosa de reportes.</span></p>
                    
                    <!-- Tema 5.1 -->
                    <div class="mb-8 p-4 bg-blue-50 rounded-xl">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3">5.1: Herramientas de Auto-Gesti√≥n</h3>
                        <h4 class="font-bold mt-4 text-blue-600">Entorno Personal de Aprendizaje (PLE) (Mentores A):</h4>
                        <p class="ml-4 text-gray-600 mb-3">El PLE es tu <span class="font-bold text-orange-600">carta de presentaci√≥n visual</span>. √ösalo como material de presentaci√≥n mostrando de forma ordenada tus estrategias de estudio, herramientas digitales (Google Calendar, Notion, etc.) y tus mejores tips.</p>
                        <h4 class="font-bold mt-4 text-blue-600">Objetivos S.M.A.R.T.:</h4>
                        <p class="ml-4 text-gray-600">Orientar a tus compa√±eros con esta metodolog√≠a asegura que las metas sean alcanzables y medibles (Specific, Measurable, Achievable, Relevant, Time-bound). Ej: Contactar al 100% de asignados en los primeros 3 d√≠as.</p>
                    </div>

                    <!-- Tema 5.2 -->
                    <div class="mb-8 p-4 bg-orange-50 rounded-xl border border-orange-300">
                        <h3 class="text-2xl font-semibold text-orange-700 mb-3">5.2: El Reporte Semanal: Evidencia y Seguimiento üìù</h3>
                        <p class="mb-3">El Reporte de Actividades es la evidencia central. Se llena en un <span class="font-bold">enlace Excel web</span> proporcionado al inicio de cada mes.</p>
                        
                        <h4 class="font-bold mt-4 text-blue-600">Frecuencia y Contenido:</h4>
                        <ul class="list-disc list-inside ml-4 mt-2 text-gray-600 space-y-1">
                            <li><span class="font-semibold">Mentor A (1er Cuatrimestre):</span> Frecuencia <span class="font-bold">Semanal.</span></li>
                            <li><span class="font-semibold">Mentor B (Inducci√≥n):</span> Frecuencia <span class="font-bold">Diaria</span> (priorizando s√°bados y domingos).</li>
                            <li><span class="font-semibold">Contenido Obligatorio:</span> Registro de la actividad semanal/diaria, <span class="font-bold text-red-600">Comentario individual de CADA compa√±ero</span> (incluso sin respuesta), e identificaci√≥n de casos de riesgo/baja.</li>
                        </ul>

                        <p class="mt-4 font-bold text-red-600">Consecuencia del Incumplimiento:</p>
                        <p class="ml-4 text-gray-600">El incumplimiento constante <span class="font-bold">impacta directamente en la liberaci√≥n de tu Servicio Social o la obtenci√≥n de tu Bono.</span></p>
                    </div>

                    <!-- Placeholder de Imagen -->
                    <div class="mt-8 p-4 bg-gray-200 text-center rounded-lg border-2 border-dashed border-gray-400">
                        <p class="text-gray-600 font-semibold">üìç Placeholder para Imagen de Apoyo</p>
                        <p class="text-sm text-gray-500">Aqu√≠ ir√° tu imagen de apoyo del M√≥dulo 5 (Ej. Formato del Reporte Excel).</p>
                        <button onclick="downloadPlaceholder(5)" class="mt-2 text-blue-600 hover:text-blue-800 text-xs font-medium">
                            (Descargar Placeholder)
                        </button>
                    </div>

                    <div class="flex justify-end mt-10">
                        <button onclick="startQuiz(5)" class="bg-orange-500 text-white font-bold py-3 px-6 rounded-full hover:bg-orange-600 transition duration-300 quiz-button-animate">
                            ¬°Iniciar Quiz del M√≥dulo 5! üöÄ
                        </button>
                    </div>
                `,
                quiz: [
                    {
                        question: "¬øCu√°l es el prop√≥sito principal del PLE (Entorno Personal de Aprendizaje) en la interacci√≥n con tus compa√±eros mentoreados (Mentor A)?",
                        options: [
                            "Funcionar como una herramienta para revisar sus calificaciones.",
                            "Servir como una base de datos de tr√°mites administrativos de la Universidad.",
                            "Actuar como una <span class='font-bold'>carta de presentaci√≥n visual</span> que muestre tus estrategias de estudio, tips y herramientas digitales.",
                            "Es un requisito acad√©mico personal que no se comparte con los mentoreados."
                        ],
                        correct: 2,
                        explanation: "El PLE es un material de presentaci√≥n visual que estandariza la calidad de tu consejo, mostrando tus estrategias y herramientas personales."
                    },
                    {
                        question: "¬øCu√°l es la frecuencia de entrega del Reporte de Actividades para un Mentor B (Inducci√≥n)?",
                        options: [
                            "Mensual.",
                            "Semanal.",
                            "<span class='font-bold'>Diaria</span> (priorizando la atenci√≥n en s√°bados y domingos).",
                            "Quincenal."
                        ],
                        correct: 2,
                        explanation: "El Mentor B (Inducci√≥n) debe realizar su reporte diariamente para dar atenci√≥n prioritaria a sus compa√±eros en la fase cr√≠tica de 14 d√≠as."
                    },
                    {
                        question: "¬øCu√°l es la consecuencia para un Mentor en modalidad Servicio Social si entrega <span class='font-medium'>menos del 50%</span> de los reportes solicitados en un m√≥dulo?",
                        options: [
                            "Recibe autom√°ticamente el Bono de Excelencia.",
                            "Debe realizar el curso de Inducci√≥n de nuevo.",
                            "Se <span class='font-bold'>extiende el tiempo de su Servicio Social</span>, lo cual podr√≠a retrasar su egreso.",
                            "Se le asignan m√°s compa√±eros para compensar."
                        ],
                        correct: 2,
                        explanation: "El incumplimiento riguroso de reportes en la modalidad SS resulta en la extensi√≥n del tiempo de Servicio Social, lo cual puede retrasar la liberaci√≥n de sus horas."
                    }
                ]
            },
            {
                id: 6,
                title: "M√≥dulo 6: Mentor√≠a en Acci√≥n: Seguimiento, Sesiones y Estrategias ‚úÖ",
                content: `
                    <h2 class="text-3xl font-bold text-blue-800 mb-6">M√≥dulo 6: Mentor√≠a en Acci√≥n: Seguimiento, Sesiones y Estrategias</h2>
                    <p class="text-lg text-gray-700 mb-8">Maximiza tu impacto focalizando tu acci√≥n en los momentos cruciales del alumno.</p>
                    
                    <!-- Tema 6.1 -->
                    <div class="mb-8 p-4 bg-blue-50 rounded-xl">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3">6.1: Flujo de Acompa√±amiento por Rol (Semanas Cr√≠ticas)</h3>
                        <h4 class="font-bold mt-4 text-blue-600">Mentor B (Inducci√≥n):</h4>
                        <ul class="list-disc list-inside ml-4 mt-2 text-gray-600 space-y-1">
                            <li><span class="font-semibold">D√≠a 1-3:</span> Llamada de bienvenida y comprobaci√≥n de accesos/correo.</li>
                            <li><span class="font-semibold">D√≠a 8-14:</span> <span class="font-bold text-red-600">Seguimiento intensivo a casos de riesgo</span>, enfoc√°ndose en la Acreditaci√≥n (calificaci√≥n 7).</li>
                        </ul>
                        <h4 class="font-bold mt-4 text-blue-600">Mentor A (1er Cuatrimestre):</h4>
                        <ul class="list-disc list-inside ml-4 mt-2 text-gray-600 space-y-1">
                            <li><span class="font-semibold">D√≠a 1-7:</span> Llamada de inicio de m√≥dulo. √ânfasis en <span class="font-bold">Organizaci√≥n del tiempo</span> y uso de Biblioteca.</li>
                            <li><span class="font-semibold">D√≠a 15-30:</span> Refuerzo de la motivaci√≥n y prevenci√≥n del *burnout* (agotamiento), revisando la Metodolog√≠a NOVA.</li>
                        </ul>
                    </div>

                    <!-- Tema 6.2 -->
                    <div class="mb-8 p-4 bg-orange-50 rounded-xl">
                        <h3 class="text-2xl font-semibold text-orange-700 mb-3">6.2: Participaci√≥n en Sesiones Grupales ü§ù</h3>
                        <p class="mb-3">Los Mentores A y B deben participar en las Sesiones Grupales (<span class="font-bold">Mentor√≠a en Acci√≥n</span>) programadas mensualmente.</p>
                        <h4 class="font-bold mt-4 text-orange-600">Temas a Compartir Obligatorios:</h4>
                        <ul class="list-disc list-inside ml-4 mt-2 text-gray-600 space-y-1">
                            <li>Experiencia personal de superaci√≥n.</li>
                            <li>Consejos de <span class="font-bold">Organizaci√≥n del Tiempo</span> y gesti√≥n de la plataforma.</li>
                            <li>Funciones y <span class="font-bold">l√≠mites del apoyo</span> (explicando cu√°ndo contactar a Orientadores).</li>
                        </ul>
                        <h4 class="font-bold mt-4 text-red-600">Regla de Comunicaci√≥n (WhatsApp):</h4>
                        <p class="ml-4 text-gray-600">El Alumno Mentor debe ser incluido en el grupo de WhatsApp <span class="font-bold">OFICIAL</span> y <span class="font-bold underline">no deber√° crear grupos adicionales</span> para asegurar que toda la informaci√≥n sea controlada y unificada.</p>
                    </div>
                    
                    <!-- Tema 6.3 -->
                    <div class="mb-8 p-4 bg-gray-100 rounded-xl">
                        <h3 class="text-2xl font-semibold text-gray-700 mb-3">6.3: Estrategia de Respuesta y Colaboraci√≥n</h3>
                        <h4 class="font-bold mt-4 text-blue-600">Estrategia de Respuesta (F√≥rmula):</h4>
                        <p class="ml-4 text-gray-700 font-bold mb-3">1. Empat√≠a ‚û°Ô∏è 2. Reconocimiento de la dificultad ‚û°Ô∏è 3. Soluci√≥n basada en tu experiencia ‚û°Ô∏è 4. Motivaci√≥n ‚û°Ô∏è 5. Canalizaci√≥n (si es necesario).</p>
                        <p class="ml-4 text-sm italic text-gray-600">Ejemplo: "Entiendo que el APA es complicado (Empat√≠a), a m√≠ tambi√©n me cost√≥ (Reconocimiento). Te recomiendo ver este tutorial (Soluci√≥n). ¬°T√∫ puedes dominarlo! (Motivaci√≥n)."</p>
                    </div>

                    <!-- Placeholder de Imagen -->
                    <div class="mt-8 p-4 bg-gray-200 text-center rounded-lg border-2 border-dashed border-gray-400">
                        <p class="text-gray-600 font-semibold">üìç Placeholder para Imagen de Apoyo</p>
                        <p class="text-sm text-gray-500">Aqu√≠ ir√° tu imagen de apoyo del M√≥dulo 6 (Ej. Diagrama del flujo de acompa√±amiento).</p>
                        <button onclick="downloadPlaceholder(6)" class="mt-2 text-blue-600 hover:text-blue-800 text-xs font-medium">
                            (Descargar Placeholder)
                        </button>
                    </div>

                    <div class="flex justify-end mt-10">
                        <button onclick="startQuiz(6)" class="bg-orange-500 text-white font-bold py-3 px-6 rounded-full hover:bg-orange-600 transition duration-300 quiz-button-animate">
                            ¬°Iniciar Quiz del M√≥dulo 6! üöÄ
                        </button>
                    </div>
                `,
                quiz: [
                    {
                        question: "Si eres un Mentor A (1er Cuatrimestre), ¬øcu√°l es el tema de apoyo que debes priorizar al inicio del mes (D√≠a 1-7)?",
                        options: [
                            "El seguimiento intensivo a casos de riesgo de Inducci√≥n.",
                            "La <span class='font-bold'>Organizaci√≥n del tiempo</span> del alumno para manejar las dos materias unificadas y el uso eficiente de la Biblioteca Virtual.",
                            "La recopilaci√≥n de los comentarios individuales de cada compa√±ero.",
                            "La realizaci√≥n de la Sesi√≥n Grupal obligatoria."
                        ],
                        correct: 1,
                        explanation: "El Mentor A (1er Cuatrimestre) se enfoca en la Organizaci√≥n del Tiempo y el uso de recursos como la Biblioteca, ya que el alumno est√° lidiando con su primera carga acad√©mica real (dos materias)."
                    },
                    {
                        question: "¬øPor qu√© es una regla que el Alumno Mentor <span class='font-medium'>no deba crear grupos de WhatsApp adicionales</span> a los oficiales de la Universidad?",
                        options: [
                            "Para reducir la carga de trabajo de los Orientadores.",
                            "Para que el Mentor tenga m√°s tiempo para sus propios estudios.",
                            "Para asegurar que toda la informaci√≥n sea <span class='font-bold'>controlada, oficial y unificada</span>, evitando duplicidad o datos incorrectos.",
                            "Porque el contacto debe ser exclusivamente por correo institucional."
                        ],
                        correct: 2,
                        explanation: "La regla busca mantener un flujo de comunicaci√≥n oficial y evitar la difusi√≥n de informaci√≥n incorrecta o duplicada entre canales no controlados."
                    },
                    {
                        question: "Seg√∫n la f√≥rmula de respuesta estrat√©gica, ¬øcu√°l es el paso que siempre debe seguirse inmediatamente despu√©s de reconocer la dificultad del alumno?",
                        options: [
                            "La Motivaci√≥n.",
                            "La <span class='font-bold'>Soluci√≥n basada en tu experiencia</span> (ej. compartir un tutorial o tip).",
                            "La Canalizaci√≥n al Orientador.",
                            "La Empat√≠a."
                        ],
                        correct: 1,
                        explanation: "La secuencia es: Empat√≠a ‚û°Ô∏è Reconocimiento de la dificultad ‚û°Ô∏è Soluci√≥n basada en tu experiencia ‚û°Ô∏è Motivaci√≥n ‚û°Ô∏è Canalizaci√≥n."
                    }
                ]
            }
        ];

        // --- ESTADO GLOBAL ---
        let courseData = JSON.parse(localStorage.getItem('cnciMentorCourseData')) || initialCourseData;
        let currentModuleId = 1;
        let isQuizActive = false;
        let quizResults = null;

        // --- FUNCIONES DE ADMINISTRACI√ìN ---
        const ADMIN_CODE = "1234";

        function promptAdminAccess() {
            // Reemplazando window.prompt con una simulaci√≥n de modal simple para cumplir la restricci√≥n
            const code = prompt("Introduce el c√≥digo de administrador (Sugerencia: " + ADMIN_CODE + "):");
            if (code === ADMIN_CODE) {
                loadAdminPanel();
            } else if (code !== null) {
                // Simulaci√≥n de alert
                const contentArea = document.getElementById('contentArea');
                contentArea.innerHTML = `<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                    <strong class="font-bold">Error de Acceso:</strong>
                    <span class="block sm:inline">C√≥digo incorrecto. Acceso denegado.</span>
                </div>`;
                renderMenu(); // Asegura que el men√∫ se vea bien.
                setTimeout(() => loadModule(currentModuleId), 2000);
            }
        }
        
        // Carga la interfaz de edici√≥n simplificada
        function loadAdminPanel() {
            isQuizActive = false;
            const contentArea = document.getElementById('contentArea');
            const tabsHTML = courseData.map((module, index) => `
                <button 
                    onclick="renderAdminModule(${module.id})" 
                    class="tab-button py-2 px-4 text-sm font-medium rounded-t-lg transition duration-200 
                    ${module.id === currentModuleId ? 'bg-white text-blue-800 shadow-inner' : 'bg-gray-200 text-gray-600 hover:bg-gray-300'}"
                    data-module-id="${module.id}">
                    ${module.title.split(':')[0]}
                </button>
            `).join('');

            contentArea.innerHTML = `
                <h2 class="text-3xl font-bold text-red-700 mb-4">Panel de Administraci√≥n del Curso üõ†Ô∏è</h2>
                <p class="text-lg text-gray-700 mb-6">Edita el contenido (HTML) y el Quiz (JSON) de cada m√≥dulo.</p>

                <div class="flex border-b border-gray-300 mb-6" id="adminTabs">
                    ${tabsHTML}
                </div>
                
                <div id="adminModuleEditor" class="p-4 bg-white rounded-lg shadow-lg border border-gray-200">
                    <!-- Contenido del m√≥dulo activo se renderizar√° aqu√≠ -->
                </div>
                
                <div id="adminMessage" class="mt-4 text-sm font-semibold text-red-500"></div>

                <div class="flex justify-between mt-8">
                    <button onclick="saveCourseData()" class="bg-red-600 text-white font-bold py-3 px-6 rounded-full shadow-lg hover:bg-red-700 transition duration-300">
                        Guardar Cambios y Recargar M√≥dulos
                    </button>
                    <button onclick="loadModule(${currentModuleId})" class="bg-gray-500 text-white font-bold py-3 px-6 rounded-full shadow-lg hover:bg-gray-600 transition duration-300">
                        Cancelar y Volver al M√≥dulo
                    </button>
                </div>
            `;
            
            // Renderizar el primer m√≥dulo o el m√≥dulo actual por defecto
            renderAdminModule(currentModuleId); 
            renderMenu();
        }

        // Renderiza el contenido y quiz de un m√≥dulo espec√≠fico para edici√≥n
        function renderAdminModule(moduleId) {
            currentModuleId = moduleId;
            const module = courseData.find(m => m.id === moduleId);
            if (!module) return;

            // Actualizar botones de pesta√±a
            document.querySelectorAll('.tab-button').forEach(btn => {
                if (parseInt(btn.dataset.moduleId) === moduleId) {
                    btn.classList.replace('bg-gray-200', 'bg-white');
                    btn.classList.add('text-blue-800', 'shadow-inner');
                    btn.classList.remove('text-gray-600', 'hover:bg-gray-300');
                } else {
                    btn.classList.replace('bg-white', 'bg-gray-200');
                    btn.classList.remove('text-blue-800', 'shadow-inner');
                    btn.classList.add('text-gray-600', 'hover:bg-gray-300');
                }
            });

            // Convertir quiz a JSON string legible
            const quizJSON = JSON.stringify(module.quiz, null, 2);

            const editorHTML = `
                <h3 class="text-2xl font-semibold text-blue-700 mb-4">Editando M√≥dulo ${moduleId}: ${module.title}</h3>

                <label class="block text-gray-700 font-bold mb-2">T√≠tulo (Ej: M√≥dulo 1: Tema):</label>
                <input id="adminTitleEditor" type="text" value="${module.title}" class="w-full p-2 border border-gray-300 rounded mb-4">
                
                <label class="block text-gray-700 font-bold mb-2">Contenido (HTML permitido):</label>
                <textarea id="adminContentEditor" class="w-full h-80 p-3 border border-gray-300 rounded font-mono text-sm resize-y mb-6">${module.content.trim()}</textarea>
                
                <h4 class="text-xl font-semibold text-red-600 mb-3">Quiz del M√≥dulo (Formato JSON)</h4>
                <p class="text-sm text-gray-600 mb-2">Estructura requerida: ` + '`[{ "question": "", "options": ["", ""], "correct": 0, "explanation": "" }]`' + `</p>
                <textarea id="adminQuizEditor" class="w-full h-64 p-3 border border-gray-300 rounded font-mono text-sm resize-y">${quizJSON}</textarea>
            `;

            document.getElementById('adminModuleEditor').innerHTML = editorHTML;
        }

        function saveCourseData() {
            const message = document.getElementById('adminMessage');
            message.textContent = '';
            
            // 1. Recopilar datos del m√≥dulo activo en el editor
            const titleEditor = document.getElementById('adminTitleEditor');
            const contentEditor = document.getElementById('adminContentEditor');
            const quizEditor = document.getElementById('adminQuizEditor');

            if (!titleEditor || !contentEditor || !quizEditor) {
                 message.textContent = "Error: La interfaz del editor no est√° completamente cargada.";
                 return;
            }

            try {
                // 2. Parsear y validar el quiz JSON
                const newQuiz = JSON.parse(quizEditor.value);
                if (!Array.isArray(newQuiz) || newQuiz.some(q => !q.question || !Array.isArray(q.options) || typeof q.correct !== 'number')) {
                    message.textContent = "‚ùå Error: La estructura del Quiz JSON es inv√°lida o incompleta.";
                    return;
                }

                // 3. Buscar el √≠ndice del m√≥dulo actual
                const moduleIndex = courseData.findIndex(m => m.id === currentModuleId);
                if (moduleIndex === -1) {
                    message.textContent = "Error: M√≥dulo no encontrado para guardar.";
                    return;
                }

                // 4. Aplicar los cambios al courseData global
                courseData[moduleIndex].title = titleEditor.value;
                courseData[moduleIndex].content = contentEditor.value;
                courseData[moduleIndex].quiz = newQuiz;

                // 5. Guardar en localStorage
                localStorage.setItem('cnciMentorCourseData', JSON.stringify(courseData));
                message.textContent = "‚úÖ ¬°Datos del M√≥dulo " + currentModuleId + " guardados y actualizados correctamente!";
                
                // 6. Recargar para salir del modo Admin
                setTimeout(() => {
                    loadModule(currentModuleId);
                }, 1500);

            } catch (e) {
                message.textContent = `‚ùå Error al guardar datos: ${e.message}`;
            }
        }
        
        // Funci√≥n para descargar el placeholder
        function downloadPlaceholder(moduleId) {
            const canvas = document.createElement('canvas');
            canvas.width = 400;
            canvas.height = 200;
            const ctx = canvas.getContext('2d');
            
            ctx.fillStyle = '#E5E7EB'; // gray-200
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            ctx.strokeStyle = '#9CA3AF'; // gray-400
            ctx.lineWidth = 4;
            ctx.setLineDash([10, 5]);
            ctx.strokeRect(10, 10, canvas.width - 20, canvas.height - 20);

            ctx.fillStyle = '#6B7280'; // gray-600
            ctx.font = '20px Inter, sans-serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(`Imagen M√≥dulo ${moduleId} (Placeholder)`, canvas.width / 2, canvas.height / 2);
            
            const dataURL = canvas.toDataURL('image/png');
            const a = document.createElement('a');
            a.href = dataURL;
            a.download = `CNCI_Mentor_Placeholder_M${moduleId}.png`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }

        // --- FUNCIONES DE NAVEGACI√ìN Y RENDERIZADO ---

        // Funci√≥n para renderizar el men√∫ lateral
        function renderMenu() {
            const menu = document.getElementById('moduleMenu');
            menu.innerHTML = courseData.map(module => `
                <a class="module-link flex items-center ${module.id === currentModuleId && !isQuizActive ? 'active' : ''}" data-module-id="${module.id}" onclick="loadModule(${module.id})">
                    <span class="mr-3 text-2xl">${module.id === 1 ? '‚ú®' : module.id === 2 ? 'üõ°Ô∏è' : module.id === 3 ? 'üéì' : module.id === 4 ? 'üöÄ' : module.id === 5 ? 'üìä' : '‚úÖ'}</span>
                    <span>${module.title.split(': ')[0]}: ${module.title.split(': ')[1]}</span>
                </a>
            `).join('');
        }

        // Funci√≥n para cargar el contenido del m√≥dulo
        function loadModule(moduleId) {
            currentModuleId = moduleId;
            isQuizActive = false;
            quizResults = null; // Reiniciar resultados al cargar un m√≥dulo
            const module = courseData.find(m => m.id === moduleId);
            if (!module) {
                // Si el m√≥dulo no existe (ej. fue eliminado en admin), ir al primero
                loadModule(courseData[0].id);
                return;
            }
            document.getElementById('contentArea').innerHTML = module.content;
            renderMenu();
            // Cerrar sidebar en m√≥vil al seleccionar m√≥dulo
            if (window.innerWidth < 768) {
                toggleSidebar();
            }
        }

        // Funci√≥n para iniciar el Quiz
        function startQuiz(moduleId) {
            currentModuleId = moduleId;
            isQuizActive = true;
            quizResults = null; // Asegurar que no haya resultados anteriores
            const module = courseData.find(m => m.id === moduleId);
            
            let quizHTML = `
                <h2 class="text-3xl font-bold text-orange-600 mb-8">${module.title.split(':')[0]}: Quiz de Comprensi√≥n üß†</h2>
                <form id="quizForm" class="space-y-10">
            `;

            module.quiz.forEach((q, index) => {
                quizHTML += `
                    <div id="q-${index + 1}" class="p-5 bg-gray-50 rounded-xl shadow-lg border-t-4 border-orange-500">
                        <p class="font-semibold text-xl text-blue-800 mb-4">Pregunta ${index + 1}:</p>
                        <p class="text-lg text-gray-700 mb-5">${q.question}</p>
                        <div class="space-y-3">
                `;
                q.options.forEach((option, optionIndex) => {
                    // Usar un nombre de grupo √∫nico para cada pregunta
                    const radioName = `q${index}`;
                    quizHTML += `
                        <label class="flex items-center p-3 bg-white rounded-lg shadow-sm hover:bg-orange-100 quiz-option">
                            <input type="radio" name="${radioName}" value="${optionIndex}" class="h-5 w-5 text-orange-600 border-gray-300 focus:ring-orange-500">
                            <span class="ml-3 text-base text-gray-700">${option}</span>
                        </label>
                    `;
                });
                quizHTML += `
                        </div>
                    </div>
                `;
            });

            quizHTML += `
                </form>
                <div class="flex justify-center mt-12">
                    <button onclick="submitQuiz()" class="bg-green-600 text-white font-bold py-4 px-10 rounded-full text-xl shadow-xl hover:bg-green-700 transition duration-300 transform hover:scale-105">
                        ¬°Finalizar y Calificar! üéâ
                    </button>
                </div>
            `;
            
            document.getElementById('contentArea').innerHTML = quizHTML;
            renderMenu();
            
            // SCROLL TO TOP: Implementaci√≥n de la solicitud del usuario
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Funci√≥n para enviar y calificar el Quiz
        function submitQuiz() {
            const module = courseData.find(m => m.id === currentModuleId);
            const form = document.getElementById('quizForm');
            let score = 0;
            let totalQuestions = module.quiz.length;
            const userAnswers = [];

            // Recoger respuestas del usuario y calificar
            module.quiz.forEach((q, index) => {
                const radioName = `q${index}`;
                const selectedOption = form.querySelector(`input[name="${radioName}"]:checked`);
                const userAnswerIndex = selectedOption ? parseInt(selectedOption.value) : -1;
                
                const isCorrect = userAnswerIndex === q.correct;
                if (isCorrect) {
                    score++;
                }

                userAnswers.push({
                    questionIndex: index,
                    userAnswerIndex: userAnswerIndex,
                    isCorrect: isCorrect
                });
            });

            quizResults = { score, totalQuestions, userAnswers };
            renderQuizResults(module, quizResults);
        }

        // Funci√≥n para renderizar los resultados del Quiz
        function renderQuizResults(module, results) {
            const passThreshold = results.totalQuestions; // Para aprobar, debe ser 100% correcto seg√∫n el enunciado
            const isApproved = results.score === passThreshold;

            let resultsHTML = `
                <div class="text-center p-8 rounded-2xl ${isApproved ? 'bg-green-100 border-4 border-green-600' : 'bg-red-100 border-4 border-red-600'} shadow-2xl animate-in fade-in zoom-in duration-500">
                    <div class="text-7xl mb-4">${isApproved ? '‚úÖ' : '‚ùå'}</div>
                    <h2 class="text-4xl font-extrabold ${isApproved ? 'text-green-800' : 'text-red-800'} mb-2">
                        ${isApproved ? '¬°Felicidades, Quiz Aprobado! üéâ' : '¬°Sigue Intent√°ndolo!'}
                    </h2>
                    <p class="text-2xl text-gray-700 mb-6">Tu Calificaci√≥n: <span class="font-bold">${results.score} de ${results.totalQuestions} aciertos.</span></p>
                    <p class="text-lg ${isApproved ? 'text-green-700' : 'text-red-700'} font-semibold">
                        ${isApproved 
                            ? 'Has demostrado dominio completo del m√≥dulo. ¬°No olvides tomar una captura de pantalla para tu coordinador!' 
                            : 'Debes tener todos los aciertos correctos para aprobar. Revisa las respuestas y vuelve a intentarlo.'
                        }
                    </p>
                    <button onclick="loadModule(${module.id})" class="mt-8 bg-blue-600 text-white font-bold py-3 px-6 rounded-full hover:bg-blue-700 transition duration-300 transform hover:scale-105">
                        Volver al M√≥dulo ${module.id}
                    </button>
                    ${!isApproved ? `<button onclick="startQuiz(${module.id})" class="mt-8 ml-4 bg-orange-500 text-white font-bold py-3 px-6 rounded-full hover:bg-orange-600 transition duration-300 transform hover:scale-105">
                        Reintentar Quiz
                    </button>` : ''}
                </div>
                
                <h3 class="text-3xl font-bold text-blue-800 mt-12 mb-6">Revisi√≥n de Respuestas üßê</h3>
                <div class="space-y-6">
            `;

            // Muestra la revisi√≥n pregunta por pregunta
            module.quiz.forEach((q, index) => {
                const result = results.userAnswers.find(a => a.questionIndex === index);
                const userAnswerIndex = result.userAnswerIndex;
                const isCorrect = result.isCorrect;

                resultsHTML += `
                    <div class="p-4 rounded-xl shadow-lg ${isCorrect ? 'correct-answer' : 'incorrect-answer'}">
                        <p class="font-bold text-lg mb-2 flex justify-between items-center">
                            Pregunta ${index + 1}: ${isCorrect ? 'Correcta ‚úÖ' : 'Incorrecta ‚ùå'}
                        </p>
                        <p class="text-md text-gray-700 font-medium">${q.question}</p>
                        <div class="mt-3 space-y-2">
                `;

                q.options.forEach((option, optionIndex) => {
                    let optionClass = '';
                    if (optionIndex === q.correct) {
                        // Respuesta correcta
                        optionClass = 'bg-green-200 font-bold border-green-700 border';
                    } else if (optionIndex === userAnswerIndex && !isCorrect) {
                        // Respuesta del usuario si es incorrecta
                        optionClass = 'bg-red-200 font-bold border-red-700 border';
                    }

                    resultsHTML += `
                        <div class="p-2 rounded-lg text-sm ${optionClass}">
                            ${optionIndex === q.correct ? '‚úîÔ∏è' : (optionIndex === userAnswerIndex && !isCorrect ? 'Tu Respuesta üü´' : 'Opci√≥n')} ${option}
                        </div>
                    `;
                });

                if (!isCorrect) {
                    resultsHTML += `
                        <p class="mt-3 text-sm text-gray-800 border-t pt-2 border-gray-400">
                            <span class="font-bold text-blue-800">Explicaci√≥n:</span> ${q.explanation}
                        </p>
                    `;
                }

                resultsHTML += `
                        </div>
                    </div>
                `;
            });

            resultsHTML += `</div>`;
            document.getElementById('contentArea').innerHTML = resultsHTML;
        }

        // Funci√≥n para alternar el men√∫ en dispositivos m√≥viles
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const backdrop = document.getElementById('menuBackdrop');
            sidebar.classList.toggle('-translate-x-full');
            sidebar.classList.toggle('translate-x-0');
            backdrop.classList.toggle('open');
        }


        // --- INICIALIZACI√ìN ---
        window.onload = () => {
            // Cargar datos persistentes si existen
            const savedData = localStorage.getItem('cnciMentorCourseData');
            if (savedData) {
                try {
                    courseData = JSON.parse(savedData);
                } catch (e) {
                    console.error("Error al cargar datos de localStorage, usando datos iniciales.", e);
                    courseData = initialCourseData;
                }
            } else {
                courseData = initialCourseData;
            }

            // Asegurar que el m√≥dulo actual exista
            if (!courseData.find(m => m.id === currentModuleId)) {
                currentModuleId = courseData[0].id;
            }

            renderMenu();
            loadModule(currentModuleId); // Cargar el m√≥dulo inicial
        };

    </script>
</body>
</html>
